<!DOCTYPE html>
<html>
	<head>
		<title>Chat</title>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	</head>
	
	<app-header-active></app-header-active>

	<body>

		<div class="encabezado">
			<div>
				<h1>chat</h1>
			</div>
		  </div>

		<div class="container-fluid h-100">
			<div class="row justify-content-center h-100">
				<div class="col-md-4 col-xl-3 chat"><div class="card mb-sm-3 mb-md-0 contacts_card">
					<div class="card-header">
						<div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="Buscar..." aria-describedby="button-addon2">
                            <div class="input-group-append">
                              <button class="btn btn-outline-secondary" type="button" id="button-addon2"><i class="fas fa-search"></i></button>
                            </div>
                        </div>
					</div>
					<div class="card-body contacts_body">
						<div class="contacts" *ngFor="let usuario of usuarios; let i = index">
						<li class="active">
							<div class="d-flex bd-highlight">
								<div class="img_cont">
									<img src="{{usuario.fotousuario}}" class="rounded-circle user_img" (click)="abrir(i)">
								</div>
								<div class="user_info">
									<span>{{usuario.nombre_usuario}}</span>
								</div>
							</div>
						</li>
					</div>
					</div>
				</div></div>
				<div class="col-md-8 col-xl-6 chat">
					<div class="card">
						<div class="card-header msg_head">
							<div class="d-flex bd-highlight">
								<div class="img_cont">
									<img routerLink="/usuario" src="{{receptor.fotousuario}}" class="rounded-circle user_img">
								</div>
								<div class="user_info">
									<span>{{receptor.nombre_usuario}}</span>
								</div>
							</div>
							<span id="action_menu_btn"><mat-icon (click)="eliminarConver()">delete</mat-icon></span>
						</div>
						<div class="card-body msg_card_body" #scrollMe [scrollTop]="scrollMe.scrollHeight">
							<div *ngFor="let mensaje of conver">
								<div [ngClass]="mensaje.usuario_id == emisor.usuario_id ? 'msg_cotainer_send' : 'msg_cotainer'">
									{{mensaje.mensaje}}
								</div>
							</div>
							<!-- <div class="d-flex justify-content-end mb-4">
								<div class="msg_cotainer_send">
									{{mensaje.mensaje}}
								</div>
							</div> -->
						</div>
              <div class="input-group">
                  <input type="text" class="form-control" placeholder="Escribe algo..." aria-describedby="button-addon2" #mensaje>                    
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary" type="button" id="button-addon2" (click)="enviar(mensaje.value)">Enviar</button>
                </div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
	<app-footer></app-footer>
</html>